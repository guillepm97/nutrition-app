<ion-header>
  <ion-toolbar>
    <ion-title>
      Clients
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="user$ | async as user">
  <ion-item-divider color="light">
    <ion-label>Accepted</ion-label>
  </ion-item-divider>
  <ion-list>
    <ion-item *ngFor="let accepted$ of acceptedClients; index as i"
              [routerLink]="['./client-info/',user.listAccepted[i]]">
      <ion-avatar slot="start">
        <img *ngIf="(accepted$ | async)?.picture != ''" [src]="(accepted$ | async)?.picture">
        <img *ngIf="(accepted$ | async)?.picture == ''"
             src="assets/img/client-avatar.png"
             srcset="assets/img/client-avatar@2x.png 2x,
                     assets/img/client-avatar@3x.png 3x">
      </ion-avatar>
      <ion-label>
        <h2>{{(accepted$ | async)?.name}} {{(accepted$ | async)?.surname}}</h2>
        <h3>21 years old</h3>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-item-divider color="light">
    <ion-label>Pending</ion-label>
  </ion-item-divider>
  <ion-list>
    <ion-item *ngFor="let pending$ of pendingClients; index as i">
      <ion-avatar slot="start">
        <img *ngIf="(pending$ | async)?.picture != ''" [src]="(pending$ | async)?.picture">
        <img *ngIf="(pending$ | async)?.picture == ''"
             src="assets/img/client-avatar.png"
             srcset="assets/img/client-avatar@2x.png 2x,
                     assets/img/client-avatar@3x.png 3x">
      </ion-avatar>
      <ion-label>
        <h2>{{(pending$ | async)?.name}} {{(pending$ | async)?.surname}}</h2>
        <h3>21 years old</h3>
      </ion-label>
      <ion-button fill="outline" slot="end" color="success" (click)="onAcceptClient(user.listPending[i], i)">
        Accept
      </ion-button>
    </ion-item>
  </ion-list>
</ion-content>
